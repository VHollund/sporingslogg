image:  "docker.adeo.no:5000/integrasjon/sporingslogg"
replicas:
  min: 1
  max: 1
  cpuThresholdPercentage: 80
port: 8088

healthcheck:
  liveness:
    path: /sporingslogg/api/ping
    initialDelay: 5
    periodSeconds: 5
    failureThreshold: 60
  readiness:
    path: /sporingslogg/api/ping
    initialDelay: 5
    periodSeconds: 5
    failureThreshold: 60
    
resources:
  limits:
    cpu: 400m
    memory: 512Mi
  requests:
    cpu: 200m
    memory: 256Mi
    
fasitResources:
  used:
  - alias: ldap
    resourceType: ldap
    
  - alias: kafka-brokers
    resourceType: baseurl
    propertyMap:
      url: NO_NAV_SPORINGSLOGG_KAFKA_SERVERS
      
  - alias: sporingsloggDB
    resourceType: datasource
    propertyMap:
      url: SPORINGSLOGGDB_URL
      username: SPORINGSLOGGDB_USERNAME
      password: SPORINGSLOGGDB_PASSWORD
      
  - alias: srvsporingslogg
    resourceType: credential
    propertyMap:     
      username: NO_NAV_SPORINGSLOGG_KAFKA_USERNAME
      password: NO_NAV_SPORINGSLOGG_KAFKA_PASSWORD  
      
  - alias: sporingslogg-topic
    resourceType: baseurl
    propertyMap:     
      url: NO_NAV_SPORINGSLOGG_KAFKA_TOPIC
      
# OIDC-ressursene er annerledes for idporten/openam
  - alias: security-token-service-issuer
    resourceType: baseurl
    propertyMap:     
      url: NO_NAV_SPORINGSLOGG_OIDC_ISSUER
  - alias: security-token-service-jwks
    resourceType: restservice
    propertyMap:     
      url: NO_NAV_SPORINGSLOGG_OIDC_JWKS
      
  exposed:
  - alias: sporingslogg-lagrelogg
    resourceType: restservice
    path: /api/logg
  - alias: sporingslogg-leslogger
    resourceType: restservice
    path: /api/les
